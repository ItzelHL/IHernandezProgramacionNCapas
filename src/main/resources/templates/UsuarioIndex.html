<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Usuario - Index</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
        <link >
    </head>
    <body style="background-color: #181818">
        <header class="d-flex justify-content-center py-3">
            <div>
                <a class="btn btn-success mt-4 w-100 fw-bold" style="font: Tahoma, sans-serif; text-align: center; padding: 15px 32px; color: white; background-color:  #04AA6D" th:href="@{/usuario/action/{IdUsuario}(IdUsuario=0)}" aria-current="page">Agregar usuario</a>
            </div>
        </header>
        <div class = "container" style="font-family: Tahoma, sans-serif">
            <table class = "table table-hover table-striped-columns" style="overflow-x: auto"> 
                <thead>
                    <tr class = "table table-dark" style="text-align: center">
                        <th scope="col-xxl-1 col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1" >#</th>
                        <th scope="col-xxl-1 col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1" >Imagen</th>
                        <th scope="col-xxl-1 col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1" >Username</th>
                        <th scope="col-xxl-2 col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2" >Nombre Completo</th>
                        <th scope="col-xxl-2 col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2" >Datos personales</th>
                        <th scope="col-xxl-2 col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2" >Contacto</th>
                        <th scope="col-xxl-1 col-xl-1 col-lg-1 col-md-1 col-sm-1 col-1" >Rol</th>
                        <th scope="col-xxl-2 col-xl-2 col-lg-2 col-md-2 col-sm-2 col-2">Direccion</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="usuario : ${usuarios}">
                        <td>
                            <a th:href="@{/usuario/action/{idUsuario}(idUsuario = ${usuario.IdUsuario})}" class="btn btn-success"><i class="bi bi-pencil-square"></i></a>
                            <a th:href="@{/usuario/action/{idUsuario}(idUsuario = ${usuario.IdUsuario})}" class="btn btn-danger"><i class="bi bi-trash3-fill"></i></a>
                        </td>
                        <td>
                            <img style="max-height: 100px" th:src="|${(usuario.Imagen != null) ? 'data:image/jpeg;base64,' + usuario.Imagen : 'https://icones.pro/wp-content/uploads/2021/02/icone-utilisateur-vert.png'"/>
                        </td>
                        <td th:text ="${usuario.Username}"></td>
                        <td th:text="|${usuario.Nombre} ${usuario.ApellidoPaterno} ${usuario.ApellidoMaterno}|"></td>
                        <td>
                            <ol>
                                <li th:text="${usuario.FechaNacimiento}"></li>
                                <li th:text="${usuario.Sexo}"></li>
                                <li th:text="${usuario.Curp}"></li>
                            </ol>
                        </td>
                        <td>
                            <ol>
                                <li th:text="${usuario.Email}"></li>
                                <li th:text="${usuario.Telefono}"></li>
                                <li th:text="${usuario.Celular}"></li>
                            </ol>
                        </td>
                        <td th:each="rol : ${usuario.Rol}" th:text ="${rol.Nombre}"></td>
                        <td>
                            <ul>
                                <li th:each=" direccion : ${usuario.Direccion}" th:text="|${direccion.calle}, ${direccion.NumeroExterior}, ${direccion.NumeroInterior},
                                    ${direccion.Colonia.Nombre}, ${direccion.Colonia.CodigoPostal}, ${direccion.Colonia.Municipio.Nombre}, 
                                    ${direccion.Colonia.Municipio.Estado.Nombre}, ${direccion.Colonia.Municipio.Estado.Pais.Nombre}|"></li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
        </div>
    </body>
</html>
